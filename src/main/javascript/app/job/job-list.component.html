<div class="alert alert-danger" *ngIf="errorMessage">
  <span class="pficon pficon-error-circle-o"></span>
  {{errorMessage}}
</div>

<div class="container-fluid">
  <div class="row toolbar-pf">
    <div class="col-sm-12">
      <form class="toolbar-pf-actions">
        <div class="form-group toolbar-pf-filter">
          <label class="sr-only" for="filter">Name</label>
          <div class="input-group">
            <div class="input-group-btn">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                      aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#">Separated link</a></li>
              </ul>
            </div>
            <input type="text" class="form-control" id="filter" placeholder="Filter By Name...">
          </div>
        </div>
        <div class="form-group">
          <div class="dropdown btn-group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li><a href="#">Action</a></li>
              <li><a href="#">Another action</a></li>
              <li><a href="#">Something else here</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="#">Separated link</a></li>
            </ul>
          </div>
          <button class="btn btn-link" type="button">
            <span class="fa fa-sort-alpha-asc"></span>
          </button>
        </div>
        <div class="form-group">
          <button class="btn btn-default" type="button">Action</button>
          <button class="btn btn-default" type="button">Action</button>
          <div class="dropdown btn-group  dropdown-kebab-pf">
            <button class="btn btn-link dropdown-toggle" type="button" id="dropdownKebab"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
              <span class="fa fa-ellipsis-v"></span>
            </button>
            <ul class="dropdown-menu " aria-labelledby="dropdownKebab">
              <li><a href="#">Action</a></li>
              <li><a href="#">Another action</a></li>
              <li><a href="#">Something else here</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="#">Separated link</a></li>
            </ul>
          </div>
        </div>
        <div class="toolbar-pf-action-right">
          <div class="form-group toolbar-pf-find">
            <button class="btn btn-link btn-find" type="button">
              <span class="fa fa-search"></span>
            </button>
            <div class="find-pf-dropdown-container">
              <input type="text" class="form-control" id="find" placeholder="Find By Keyword...">
              <div class="find-pf-buttons">
                <span class="find-pf-nums">1 of 3</span>
                <button class="btn btn-link" type="button">
                  <span class="fa fa-angle-up"></span>
                </button>
                <button class="btn btn-link" type="button">
                  <span class="fa fa-angle-down"></span>
                </button>
                <button class="btn btn-link btn-find-close" type="button">
                  <span class="pficon pficon-close"></span>
                </button>
              </div>
            </div>
          </div>
          <div class="form-group toolbar-pf-view-selector">
            <ul class="list-inline">
              <li><a href="#"><i class="fa fa-th"></i></a></li>
              <li class="active"><a href="#"><i class="fa fa-th-large"></i></a></li>
              <li><a href="#"><i class="fa fa-th-list"></i></a></li>
            </ul>
          </div>
        </div>
      </form>
      <div class="row toolbar-pf-results">
        <div class="col-sm-12">
          <h5>40 Results</h5>
          <p>Active filters:</p>
          <ul class="list-inline">
            <li>
                    <span class="label label-info">
                      Name: nameofthething
                      <a href="#"><span class="pficon pficon-close"></span></a>
                    </span>
            </li>
            <li>
                    <span class="label label-info">
                      Name: nameofthething
                      <a href="#"><span class="pficon pficon-close"></span></a>
                    </span>
            </li>
            <li>
                    <span class="label label-info">
                      Name: nameofthething
                      <a href="#"><span class="pficon pficon-close"></span></a>
                    </span>
            </li>
          </ul>
          <p><a href="#">Clear All Filters</a></p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid">

  <div class="list-group list-view-pf list-view-pf-view">
    <div class="list-group-item" *ngFor="let job of jobs">
      <div class="list-view-pf-actions">
        <button class="btn btn-default" [routerLink]="['/jobs/'+job.id]">Detail</button>
      </div>
      <div class="list-view-pf-main-info">
        <div class="list-view-pf-left">
          <span class="pficon list-view-pf-icon-md" [ngClass]="getIcon(job)"></span>
        </div>
        <div class="list-view-pf-body">
          <div class="list-view-pf-description">
            <div class="list-group-item-heading">
              {{job.taskName}}
            </div>
            <div class="list-group-item-text">
                            <span class="list-group-item-job-start-date">
                                {{job.jobExecution.startTime | date:'shortDate'}}
                                {{job.jobExecution.startTime | date:'mediumTime'}}
                            </span>
              <span class="list-group-item-job-end-date" *ngIf="job.jobExecution.endTime">
                                {{job.jobExecution.endTime | date:'shortDate'}}
                                {{job.jobExecution.endTime | date:'mediumTime'}}
                            </span>
            </div>
          </div>
          <div class="list-view-pf-additional-info">
            <div class="list-view-pf-additional-info-item">
              <span class="pficon pficon-screen"></span>
              <strong>{{job.jobExecution.stepExecutions.length}}</strong> Step
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  /*
   // Equalize column width
   $(document).ready(function () {
   var widest = 0;
   $('.list-view-pf-equalized-column .list-view-pf-additional-info-item').each( function() {
   widest = $(this).width() > widest ? $(this).width() : widest;
   }).width(widest);
   });
   */
</script>